<html lang='en' class='dark'>
    <head>
        <meta charset='UTF-8' />
        <meta name='viewport' content='width=device-width, initial-scale=1.0' />
        <title>Cricket tournament player auction site with 4 team logins + admin, player list, rosters, and purse tracking</title>
        <style>
            #boot-error-fallback {
                display: none;
                position: fixed;
                inset: 0;
                background: hsl(0 0% 3.9%);
                color: hsl(0 0% 98%);
                font-family: system-ui, -apple-system, sans-serif;
                padding: 2rem;
                overflow: auto;
            }
            #boot-error-fallback.active {
                display: flex;
                align-items: center;
                justify-content: center;
            }
            .boot-error-card {
                max-width: 600px;
                background: hsl(0 0% 14.9%);
                border: 1px solid hsl(0 0% 20%);
                border-radius: 0.5rem;
                padding: 2rem;
            }
            .boot-error-title {
                font-size: 1.5rem;
                font-weight: 700;
                margin-bottom: 1rem;
                color: hsl(0 84.2% 60.2%);
            }
            .boot-error-message {
                margin-bottom: 1.5rem;
                line-height: 1.6;
            }
            .boot-error-details {
                background: hsl(0 0% 10%);
                padding: 1rem;
                border-radius: 0.375rem;
                font-family: monospace;
                font-size: 0.875rem;
                overflow-x: auto;
                margin-bottom: 1rem;
            }
            .boot-error-button {
                background: hsl(0 0% 98%);
                color: hsl(0 0% 3.9%);
                padding: 0.5rem 1rem;
                border: none;
                border-radius: 0.375rem;
                cursor: pointer;
                font-weight: 500;
                margin-right: 0.5rem;
            }
            .boot-error-button:hover {
                background: hsl(0 0% 90%);
            }
            .boot-error-toggle {
                background: transparent;
                color: hsl(0 0% 98%);
                border: 1px solid hsl(0 0% 30%);
            }
            .boot-error-toggle:hover {
                background: hsl(0 0% 20%);
            }
            #boot-error-stack {
                display: none;
            }
            #boot-error-stack.visible {
                display: block;
            }
        </style>
        <script>
            (function() {
                let bootError = null;
                let reactMounted = false;

                function captureBootError(error, source) {
                    bootError = {
                        message: error.message || String(error),
                        stack: error.stack || '',
                        source: source,
                        url: window.location.href,
                        origin: window.location.origin,
                        hash: window.location.hash,
                        timestamp: new Date().toISOString()
                    };
                    
                    console.error('[Boot Error]', bootError);
                    
                    if (!reactMounted) {
                        showBootErrorFallback();
                    }
                }

                function showBootErrorFallback() {
                    const fallback = document.getElementById('boot-error-fallback');
                    if (fallback && bootError) {
                        fallback.classList.add('active');
                        document.getElementById('boot-error-msg').textContent = bootError.message;
                        document.getElementById('boot-error-context').textContent = JSON.stringify({
                            url: bootError.url,
                            origin: bootError.origin,
                            hash: bootError.hash,
                            timestamp: bootError.timestamp,
                            source: bootError.source
                        }, null, 2);
                        if (bootError.stack) {
                            document.getElementById('boot-error-stack-content').textContent = bootError.stack;
                        }
                    }
                }

                window.addEventListener('error', function(event) {
                    captureBootError(event.error || new Error(event.message), 'window.error');
                });

                window.addEventListener('unhandledrejection', function(event) {
                    captureBootError(event.reason || new Error('Unhandled rejection'), 'unhandledrejection');
                });

                setTimeout(function() {
                    reactMounted = true;
                }, 5000);

                window.__toggleBootErrorStack = function() {
                    const stack = document.getElementById('boot-error-stack');
                    stack.classList.toggle('visible');
                };
            })();
        </script>
    </head>
    <body>
        <div id='boot-error-fallback'>
            <div class='boot-error-card'>
                <h1 class='boot-error-title'>Application Failed to Start</h1>
                <div class='boot-error-message'>
                    <p>The application encountered an error during startup and could not load properly.</p>
                    <p style='margin-top: 0.5rem;'><strong>Error:</strong> <span id='boot-error-msg'>Unknown error</span></p>
                </div>
                <div class='boot-error-details'>
                    <strong>Context:</strong>
                    <pre id='boot-error-context' style='margin-top: 0.5rem; white-space: pre-wrap;'></pre>
                </div>
                <div id='boot-error-stack' class='boot-error-details'>
                    <strong>Stack Trace:</strong>
                    <pre id='boot-error-stack-content' style='margin-top: 0.5rem; white-space: pre-wrap;'></pre>
                </div>
                <div>
                    <button class='boot-error-button' onclick='window.location.reload()'>Refresh Page</button>
                    <button class='boot-error-button boot-error-toggle' onclick='window.__toggleBootErrorStack()'>Toggle Stack Trace</button>
                    <button class='boot-error-button boot-error-toggle' onclick='window.location.hash = "#/debug"; window.location.reload()'>Open Diagnostics</button>
                </div>
            </div>
        </div>
        <div id='root'></div>
        <script type='module' src='/src/main.tsx'></script>
    </body>
</html>
